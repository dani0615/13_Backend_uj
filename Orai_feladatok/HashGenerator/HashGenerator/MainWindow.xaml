<Window x:Class="HashGenerator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Hash Generator Pro"
        Height="720" Width="1100"
        MinHeight="620" MinWidth="950"
        WindowStartupLocation="CenterScreen"
        Background="#121212"
        FontFamily="Segoe UI Variable Display, Segoe UI">

    <Window.Resources>
        <!-- Árnyékok -->
        <DropShadowEffect x:Key="CardShadow" Color="#000000" Direction="270" ShadowDepth="10" BlurRadius="30" Opacity="0.6"/>
        <DropShadowEffect x:Key="TextBoxShadow" Color="#000000" Direction="270" ShadowDepth="4" BlurRadius="15" Opacity="0.5"/>

        <!-- Modern TextBox / PasswordBox stílus -->
        <Style x:Key="ModernTextBoxBase" TargetType="{x:Type TextBox}">
            <Setter Property="Background" Value="#2D2D30"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="BorderBrush" Value="#404040"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="14,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0,6,0,0"/>
            <Setter Property="Height" Value="48"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="CaretBrush" Value="#E0E0E0"/>
            <Setter Property="SelectionBrush" Value="#0078D4"/>
            <Setter Property="Effect" Value="{StaticResource TextBoxShadow}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Grid>
                            <Border x:Name="border" Background="{TemplateBinding Background}"
                                    CornerRadius="12" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="1"/>
                            <ScrollViewer x:Name="PART_ContentHost" Margin="2"/>
                            <Border x:Name="focusBorder" CornerRadius="12" BorderThickness="2.5"
                                    BorderBrush="#0078D4" Opacity="0" IsHitTestVisible="False"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="focusBorder" Property="Opacity" Value="1"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#0078D4"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TextBox" BasedOn="{StaticResource ModernTextBoxBase}"/>
        <Style TargetType="PasswordBox" BasedOn="{StaticResource ModernTextBoxBase}">
            <Setter Property="Background" Value="#2D2D30"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
        </Style>

        <!-- Kimeneti mezők (olvasható, monospaced) -->
        <Style x:Key="OutputTextBox" TargetType="TextBox" BasedOn="{StaticResource ModernTextBoxBase}">
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="Background" Value="#1E1E21"/>
            <Setter Property="Foreground" Value="#8AB4F8"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="AcceptsReturn" Value="True"/>
            <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
        </Style>

        <!-- Label stílus -->
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="#C0C0C0"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="13.5"/>
            <Setter Property="Margin" Value="0,20,0,4"/>
        </Style>

        <Style TargetType="MenuItem">
        <Setter Property="Background" Value="#1E1E21"/>
        <Setter Property="Foreground" Value="#E0E0E0"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Padding" Value="10,6"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="MenuItem">
                    <Border x:Name="templateBorder" 
                                Background="{TemplateBinding Background}" 
                                BorderThickness="0" 
                                SnapsToDevicePixels="True">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" SharedSizeGroup="Icon"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto" SharedSizeGroup="Shortcut"/>
                                <ColumnDefinition Width="13"/>
                            </Grid.ColumnDefinitions>
                            <ContentPresenter x:Name="Icon" ContentSource="Icon" Margin="6,0,6,0" VerticalAlignment="Center"/>
                            <ContentPresenter x:Name="HeaderHost" Grid.Column="1" ContentSource="Header" Margin="6,0,6,0" RecognizesAccessKey="True" VerticalAlignment="Center"/>
                            <TextBlock x:Name="InputGestureText" Grid.Column="2" Text="{TemplateBinding InputGestureText}" Margin="5,2,2,2" DockPanel.Dock="Right" Foreground="#888888"/>
                            <Popup x:Name="Popup" Placement="Right" IsOpen="{TemplateBinding IsSubmenuOpen}" AllowsTransparency="True" Focusable="False" PopupAnimation="Fade">
                                <Border x:Name="SubmenuBorder" SnapsToDevicePixels="True" Background="#1E1E21" BorderThickness="1" BorderBrush="#333333" CornerRadius="4" Effect="{StaticResource CardShadow}">
                                    <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle"/>
                                </Border>
                            </Popup>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter TargetName="templateBorder" Property="Background" Value="#333333"/>
                            <Setter Property="Foreground" Value="#FFFFFF"/>
                        </Trigger>
                        <Trigger Property="Role" Value="TopLevelHeader">
                            <Setter TargetName="Popup" Property="Placement" Value="Bottom"/>
                            <Setter TargetName="templateBorder" Property="Padding" Value="12,8"/>
                        </Trigger>
                        <Trigger Property="Role" Value="TopLevelItem">
                            <Setter TargetName="templateBorder" Property="Padding" Value="12,8"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        </Style>

        <Style TargetType="Separator">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Separator">
                        <Border BorderBrush="#333333" BorderThickness="1" Margin="4,4"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Gomb stílus -->
        <Style TargetType="Button">
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="28,14"/>
            <Setter Property="Margin" Value="0,24,0,0"/>
            <Setter Property="Height" Value="56"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="14"
                                Effect="{StaticResource CardShadow}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1080F0"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#005A9E"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Menü -->
            <RowDefinition Height="Auto"/>
            <!-- Cím -->
            <RowDefinition Height="*"/>
            <!-- Tartalom (scrollozható) -->
            <RowDefinition Height="Auto"/>
            <!-- Footer -->
        </Grid.RowDefinitions>

        <!-- FELSŐ MENÜ – most jól látható! -->
        <Menu Grid.Row="0" Background="#1E1E21">
            <MenuItem Header="_Fájl">
                <MenuItem Header="_Mentés másként..." Click="Menu_SaveAs_Click" InputGestureText="Ctrl+S"/>
                <Separator/>
                <MenuItem Header="_Kilépés" Click="Menu_Exit_Click" InputGestureText="Alt+F4"/>
            </MenuItem>
            <MenuItem Header="_Segítség">
                <MenuItem Header="_Névjegy" Click="Menu_About_Click"/>
            </MenuItem>
        </Menu>

        <!-- Cím -->
        <TextBlock Grid.Row="1" 
                   Text="Hash Generator Pro" 
                   FontSize="44" 
                   FontWeight="Light" 
                   Foreground="#E8E8E8" 
                   HorizontalAlignment="Center" 
                   Margin="0,24,0,32"/>

        <!-- Fő tartalom – ScrollViewer-rel, hogy ne lógjon ki semmi! -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <Grid Margin="40,0,40,40">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="1.15*"/>
                </Grid.ColumnDefinitions>

                <!-- Bal oldal – Bemenet -->
                <Border Grid.Column="0" Background="#1E1E21" CornerRadius="20" Padding="36" Effect="{StaticResource CardShadow}">
                    <StackPanel>
                        <TextBlock Text="Bemeneti adatok" 
                                   FontSize="20" 
                                   FontWeight="SemiBold" 
                                   Foreground="#8AB4F8" 
                                   Margin="0,0,0,24"/>

                        <Label Content="Felhasználónév"/>
                        <TextBox x:Name="tbxLogin"/>

                        <Label Content="Jelszó"/>
                        <!-- FONTOS: PasswordBox, ne TextBox! -->
                        <TextBox x:Name="tbxPassword"/>

                        <Button Content="Hash generálása →" 
                                x:Name="btnGeneralas" 
                                Click="btnGeneralas_Click" 
                                HorizontalAlignment="Stretch"/>
                    </StackPanel>
                </Border>

                <!-- Jobb oldal – Kimenet -->
                <Border Grid.Column="2" Background="#1E1E21" CornerRadius="20" Padding="36" Effect="{StaticResource CardShadow}">
                    <StackPanel>
                        <TextBlock Text="Generált értékek" 
                                   FontSize="20" 
                                   FontWeight="SemiBold" 
                                   Foreground="#8AB4F8" 
                                   Margin="0,0,0,24"/>

                        <Label Content="Salt (véletlen generált)"/>
                        <TextBox x:Name="tbxSalt" Style="{StaticResource OutputTextBox}" Height="52"/>

                        <Label Content="Hash (SHA-256 + Salt)"/>
                        <TextBox x:Name="tbxHash" Style="{StaticResource OutputTextBox}" Height="100"/>

                        <Label Content="Double Hash (SHA-256(eredeti + Salt))"/>
                        <TextBox x:Name="tbxDoubleHash" Style="{StaticResource OutputTextBox}" Height="100"/>
                    </StackPanel>
                </Border>
            </Grid>
        </ScrollViewer>

        <!-- Footer -->
        <Border Grid.Row="3" Background="#0E0E0E" Padding="16">
            <TextBlock Text="© 2025 Kandó Biztonsági Rendszer • Hash Generator Pro v1.0" 
                       Foreground="#666666" 
                       FontSize="11.5" 
                       HorizontalAlignment="Center"/>
        </Border>
    </Grid>
</Window>